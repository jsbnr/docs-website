---
title: CodeStreamによるパフォーマンスモニタリング
metaDescription: How to discover and collaborate on errors in New Relic CodeStream.
translationType: machine
---

import observabilitySectionConnect1 from 'images/ObservabilitySection-connect1.png'

import errorsInbox from 'images/ErrorsInbox.png'

import errorOnNr1 from 'images/ErrorOnNR1.png'

import observabilitySectionConnected1 from 'images/ObservabilitySection-connected1.png'

import observabilityVsc from 'images/Observability-VSC.gif'

import errorAutoMention from 'images/ErrorAutoMention.png'

import buildShaNotConfigured from 'images/BuildSHANotConfigured.png'

import buildShaNotFound from 'images/BuildSHANotFound.png'

コードが実運用環境でどのように動作しているか、またエラーが発生していないかどうかを知ることは重要です。これを支援するために、New Relic CodeStream は IDE にパフォーマンス監視機能を搭載しています。

## CodeStreamとNew Relic Oneの接続 [#connect]

New Relic CodeStream を最大限に活用するために、 [New Relic ユーザーキー](/docs/apis/intro-apis/new-relic-api-keys/#user-api-key) を使って CodeStream を New Relic One に接続します。接続が完了すると、New Relic One で監視しているエンティティに対して、CodeStream に直接エラーが表示されるようになります。

<img
  title="New Relic のユーザーキーを追加する、接続されていないオブザベーションセクションです。"
  alt="New Relic のユーザーキーを追加する、unconnected observability セクションのスクリーンショットです。"
  src={observabilitySectionConnect1}
/>

<figcaption>
  IDEでエラーを確認したり、New RelicやCodeStreamの他の機能を利用したりする前に、New Relicのユーザーキーを入力する必要があります。
</figcaption>

[New Relic のユーザーキーの取得・作成はこちらから](https://one.newrelic.com/launcher/api-keys-ui.api-keys-launcher) 。

ユーザーキーを取得したら、 **Observability** で **Connect to New Relic One** をクリックし、ユーザーキーを貼り付けて **Connect** をクリックします。

## New Relic Oneのエラー発見 [#discover-on-NR1]

[CodeStream を New Relic One アカウントに接続し](/docs/codestream/start-here/codestream-new-relic) 、New Relic One 上で [エラーインボックス](/docs/errors-inbox/errors-inbox/) を持つ 1 つ以上のワークロードを作成したら、 **Open in IDE** を使用してスタックトレース付きの APM エラーを IDE で直接確認することができます。

<img
  title="&quot;「IDEで開く」ボタンを押したときに、エラーボックスにスタックトレースエラーが表示される。"
  alt="&quot;「IDEで開く」ボタンを使って、エラーズボックスに表示されたスタックトレースエラーのスクリーンショットです。&quot;"
  src={errorsInbox}
/>

一度接続すると、CodeStreamでのコラボレーション作業（ディスカッション、担当者、エラーステータスなど）はすべてNew Relic Oneに同期され、そこでコラボレーションを継続することができます。

<img
  alt="New Relic Oneでのエラー"
  src={errorOnNr1}
/>

典型的なコラボレーションセッションでは、開発者がIDEでコードにコメントし、DevOpsエンジニアがerrors inboxでエラーを割り当て、開発マネージャがSlackでフォローするといったことが可能です。New Relic CodeStream は、開発者がすでに使用しているツールでミーティングを行うことで、エラーの発見からエラー解決までの時間を短縮することができます。

CodeStreamを使ってエラーを発見する方法については、YouTubeのショートビデオ（約2分27秒）をご覧ください。

<Video
  id="LfH7p76Cvro"
  type="youtube"
/>

## Discover errors via CodeStream [#discover-via-CS]

インボックスのエラーに加えて、CodeStreamの観測可能セクションであなたのIDEでエラーを発見してください。あなたのレポで最近発生したエラーや、あなたに割り当てられた特定のエラーを見ることができます。

<img
  title="観測可能性の項目には、最近のエラーと自分に割り当てられたエラーが表示されます。"
  alt="最近のエラーと自分に割り当てられたエラーが表示されているObservabilityセクションのスクリーンショットです。"
  src={observabilitySectionConnected1}
/>

<figcaption>
  New RelicとCodeStreamを接続すると、観測されたエラーがCodeStreamで直接確認できるようになります。
</figcaption>

これらのセクションは、あなたとあなたのチームが、さまざまな方法でエラーを管理・確認するのに役立ちます。

* **Errors assigned to me**: 自分にエラーが割り当てられている場合、ここに表示されます。
* **Recent errors in**: IDE で開いている各リポジトリには、それぞれ独自のエラーのグループがあります。リポジトリの URL が New Relic で観測している複数のエンティティにマッピングされている場合は、ドロップダウンでエンティティごとにフィルタリングできます。
* **Select entity from New Relic**: IDE のリポジトリと New Relic で観測しているエンティティを接続する場合に使用します。

<Callout variant="tip">
  もしあなたのプロジェクトがNew Relicによって監視されていない場合は、CodeStreamを使って監視を開始することができます。

  CodeStreamエクステンションの **Observability** セクションで、歯車のアイコンをクリックし、 **Instrument my App** をクリックします。指示に従ってコードを計測します。
</Callout>

### エラー内容 [#error-details]

IDEでどのようなエラーが発生しても、CodeStreamはスタックトレースを含むエラーの詳細をすべて表示し、チームメイトと協力してエラーを解決することができます。

<img
  title="誰かがエラーに関連するコードの行をコメントしている。"
  alt="エラーに関連するコードの行に誰かがコメントしている様子をアニメーションで表現したもの。"
  src={observabilityVsc}
/>

<figcaption>
  スタックトレースを見て、問題を調査します。
</figcaption>

スタックトレース内の任意のフレームをクリックすると、IDE内の対応するファイルと行番号に直接ジャンプします。スタックトレースをナビゲートしながら、問題の原因と思われるコードを見つけたら、そのコードを選択してコメントアイコンをクリックし、コラボレーションを開始します。

## CodeStreamとのコラボレーション [#collaborate]

CodeStreamを開いた状態で、問題のあるコードをエディタで選択し、CodeStreamペイン内のコードの横に表示されるコメントアイコンをクリックします。CodeStreamでは、エラーに関連するコードを触った最新の人が自動的に言及されるので、適切な人を簡単に議論に参加させることができます。

<img
  title="最新のコードコントリビューターによるコメントが自動的に追加されます。"
  alt="最新のコードコントリビューターを自動的に追加したコメントのスクリーンショットです。"
  src={errorAutoMention}
/>

<figcaption>
  エディターでコードを選択し、コメントを追加します。
</figcaption>

* 問題を特定したら、CodeStream の既存のチームメイトか、リポジトリの Git コミット履歴をもとに提案された担当者にそのエラーを割り当てることができるのです。
* エラーの状態を未解決から解決または無視に更新することができます。

### CodeStreamでビルドSHAやリリースタグを使う [#sha]

この警告は、特定のエラーに関連するgitリファレンス（build SHAまたはreleaseタグ）がない場合に表示されます。CodeStreamはgit referenceを使って、特定のスタックトレースエラーと、そのエラーが発生した環境で実行されているコードのバージョンを照合します。

<img
  title="git reference not configuredの警告メッセージが表示される。"
  alt="git reference not configured」という警告メッセージのスクリーンショットです。"
  src={buildShaNotConfigured}
/>

<figcaption>
  git reference not configured という警告メッセージが表示されます。CodeStreamは、あなたが正しいバージョンのコードを見ているかどうかを確認するために、あなたのエラーにビルドSHAまたはリリースタグを関連付けます。
</figcaption>

git リファレンスを設定するには [APM エージェントの環境変数を設定する](/docs/codestream/start-here/codestream-new-relic/#buildsha).

git リファレンスが設定されていなくても、エラーを調査することはできますが、エラーの原因となったコードのバージョンを見ていない可能性があります。

<img
  title="git reference not found という警告メッセージが表示されます。"
  alt="git reference not foundの警告メッセージのスクリーンショット。"
  src={buildShaNotFound}
/>

<figcaption>
  git reference not found という警告メッセージが表示されました。あなたのコードのバージョンは、エラーが発生した環境と一致していません。次のリファレンスを取得して、エラーの原因を調べてください。
</figcaption>

もしgitリファレンスを設定していても、ローカルで使用しているコードのバージョンにそのリファレンスが含まれていない場合、CodeStreamがそのことを知らせてくれるので、より効果的にエラーを調査して解決することができます。

CodeStreamは、エラーにスタックトレースが関連付けられていない場合にも、それを知らせます。これは、New Relic One 上でスタックトレースがエージングアウトしてしまった古いエラーで発生します。

### その他のコラボレーションツール [#other-tools]

エラーのディスカッションでは、 `...` **More actions** のドロップダウンを使用して、Slack または Microsoft Teams でディスカッションを共有します。

## リポジトリの関連付け [#repo]

現在 IDE で開いているすべてのリポジトリが、 **select a repo** ドロップダウンに表示されます。エラー時に **Open in IDE** をクリックしても CodeStream に関連するリポジトリがない場合、CodeStream はそのようにするよう促します。

もしリストに欲しいリポジトリがない場合は、IDEで開くと自動的にリストに追加されます。フォークで作業している場合は、上流リモートを選択していることを確認してください。

エラーを開くたびにこのような手動の関連付けを行う必要がないように、APMエージェントの環境変数 [を使ってこれらの関連付けを行うことができます。](/docs/codestream/start-here/codestream-new-relic/#repo-url)

[](/docs/codestream/start-here/codestream-new-relic/#repo-url)
