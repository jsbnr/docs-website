---
title: newrelic_accept_distributed_trace_headers
type: apiDoc
shortDescription: 分散型トレースヘッダの配列を受け取ります。
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept a distributed trace payload.
translationType: machine
---

## 構文

```
newrelic_accept_distributed_trace_headers (array $headers, string $transport_type)
```

分散型トレースヘッダの配列を受け取ります。

## 要件

Requires PHP agent [version 9.8 or higher](/docs/release-notes/agent-release-notes/php-release-notes).

## 説明

[Distributed tracing](/docs/agents/php-agent/features/distributed-tracing-php) では、リクエストが分散システムを通過する際の経路を確認することができます。分散トレースが有効な場合、 `newrelic_accept_distributed_trace_headers` を使用して、ヘッダのペイロードを受け入れます。これらには、W3C Trace Context と New Relic の分散トレースヘッダーの両方が含まれます。

`newrelic.distributed_tracing_exclude_newrelic_header` INI の設定により、W3C Trace Context ヘッダのみを受け入れ、New Relic Distributed Tracing ヘッダを無効にすることが可能です。

## パラメータ

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメーター
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$headers`

        _アレイ_
      </td>

      <td>
        必須：分散型トレーシングヘッダを含む配列。
      </td>
    </tr>

    <tr>
      <td>
        `トランスポート・タイプ`

        _文字列_
      </td>

      <td>
        オプションです。デフォルトのトランスポート・タイプを上書きする文字列です。

        デフォルト値です。

        * `HTTP` ウェブトラフィックの

        * `不明` 非ウェブトラフィック用

          追加で受け入れられる値。

        * `AMQP`

        * `HTTP`

        * `HTTPS`

        * `IronMQ`

        * `JMS`

        * `カフカ`

        * `その他`

        * `キュー`
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

戻り値 `True` ヘッダが正常に受け入れられた場合は、 `False` を返します。

## 例

このAPIメソッドの使用方法やタイミングの例については、 [手動で計測するアプリケーションやサービスのドキュメントを参照してください](/docs/agents/php-agent/features/distributed-tracing-php#manual) 。