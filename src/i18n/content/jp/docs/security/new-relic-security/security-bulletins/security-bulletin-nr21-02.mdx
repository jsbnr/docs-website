---
title: セキュリティブルテンNR21-02
tags:
  - Security
  - Security and Privacy
  - Security bulletins
metaDescription: 'Security vulnerability update for New Relic Java agent, April 26, 2021'
translationType: machine
---

## 概要

Javaエージェントのセキュリティアップデートにより、YAMLパーサーがSafeConstructorを含むように再構成され、制限付きのユーザー制御コードを実行させる機能が削除されました。

**発売日：** 2021年4月26日

**脆弱性の識別子:** NR21-02

**Priority:** Low

## 対象となるソフトウェア [#affected]

以下のNew Relicエージェントのバージョンが影響を受けます。

<table>
  <thead>
    <tr>
      <th>
        名前
      </th>

      <th>
        影響を受けるバージョン
      </th>

      <th>
        リメディエーション版
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Javaエージェント
      </td>

      <td>
        &lt; 6.4.2
      </td>

      <td>
        6.5.0
      </td>
    </tr>
  </tbody>
</table>

## 脆弱性情報 [#vuln-info]

指定された記法が、安全でない `Yaml.load()` 呼び出しによって解析されると、新しい Java オブジェクトが作成され、そのコンストラクタが呼び出され、コードが実行される可能性があります。攻撃者は、エージェントのホストにアクセスして `newrelic.yml` ファイルを編集し、エージェントの起動時に任意のコードを実行するような細工を施したペイロードを含める必要があります。

### 緩和要因 [#factors]

この脆弱性は、攻撃者が既にホストにアクセスして、被害者のマシン上の `newrelic.yml` 設定ファイルを変更する必要があり、これ自体は緩和要因となります。しかし、この問題を完全に修正したり、システムを強化したりするためには、さらにいくつかの手順を踏む必要があります。

* Javaエージェントを更新して、この脆弱性を修正する
* `newrelic.yml` ファイルへの書き込み権限を剥奪する。

## 回避策

* [最新のNew Relic Javaエージェントに更新します。](/docs/agents/java-agent/installation/update-java-agent/)

## セキュリティの脆弱性をNew Relicに報告 [#report]

ニューレリックは、お客様とお客様のデータのセキュリティを重視しています。私たちの製品やウェブサイトにセキュリティ上の脆弱性を発見された場合、New Relic の協調的開示プログラムに報告していただくことを歓迎し、大変感謝しています。詳細については、 [セキュリティ脆弱性の報告に関するドキュメント](/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities) をご覧ください。