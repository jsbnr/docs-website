---
title: New Relic Android モバイルモニタリング（分散型トレース機能付き
metaDescription: This page describes how to set up Android distributed tracing.
translationType: machine
---

import mobileIcon from 'images/mobile-icon.png'

New Relic の Android モバイル監視エージェントは、分散型トレースをサポートしています。これにより、モバイルアプリのアクティビティが関連サービスにどのように接続されているかを確認することができます。

この短いビデオ（約2分15秒）で、以下の方法をご紹介します。

* New Relicでモバイルの分散型トレースデータを検索します。
* 標準およびカスタム属性によるフィルタリング。

<Video
  id="tkAxeE5cT2Q"
  type="youtube"
/>

## 要件 [#requirements]

分散型トレーシングを使用するには、最低でもAndroidエージェントのバージョン6.0.0が必要となります。

## 分散型トレーシングの設定方法 [#setup]

この機能をサポートするモバイルエージェントでは、デフォルトで有効になっています。

分散トレースをオフにしたい場合は、 [Android feature flag](/docs/mobile-monitoring/new-relic-mobile-android/api-guides/android-agent-configuration-feature-flags/#dt) を参照してください。

## インフィニット トレースの有効化 [#infinite-tracing]

[Infinite Tracing](/docs/distributed-tracing/infinite-tracing/introduction-infinite-tracing) と呼ばれる高度なタイプの分散型トレーシングを使用するダウンストリームサービスがモバイルアプリにある場合、モバイルアプリのこの機能を有効にする必要があります。これにより、ルートスパン（開始したモバイルアプリ）がInfinite Tracingによって追跡される残りのスパンに含まれるようになります。

この設定を行うには、 [Infinite Tracingの手順](/docs/distributed-tracing/infinite-tracing/set-trace-observer) を参照して、トレースオブザーバーを作成し、スパンをレポートするモバイルアプリ（データソース）を選択します。

## データを探す [#find-data]

モバイルスパンは、そのスパンがトレースの一部である [New Relic distributed tracing UI](/docs/understand-dependencies/distributed-tracing/ui-data/additional-distributed-tracing-features-new-relic-one/) に表示されます。

ここでは、データを検索したり、問い合わせたりするためのヒントをご紹介します。

* エンドユーザーが発信したトレースは、 [New Relic One の分散型トレース UI](/docs/understand-dependencies/distributed-tracing/ui-data/additional-distributed-tracing-features-new-relic-one) で見つけることができます。

* 分散型トレーシングのUIでは、エンドユーザーのスパンは <img title="New Relic 分散型トレース モバイルスパンアイコン" alt="New Relic 分散型トレース モバイルスパンアイコン" src={mobileIcon}/> のアイコンで表示されます。

* スパンの属性を見るには、UI で [a span を選択します。](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)

* [](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)

* [スパンは ](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)[スパンデータ](/attribute-dictionary/?event=Span) として報告され、 [New Relic](/docs/using-new-relic/data/understand-data/query-new-relic-data) で照会することができます。

* クエリのヒント

  * `mobileApp.name` にモバイルアプリ名を設定することで、名前での検索が可能になります。
  * `mobileApp.name is not null` のモバイルアプリのスパンを少なくとも1つ含むトレースのクエリ。
  * `appName is not null` のバックエンドアプリを少なくとも1つ含むトレースのクエリ。
  * 前述の2つの条件を組み合わせて、モバイルとバックエンドの両方のスパンを含むトレースを検索します。

## トラブルシューティング [#troubleshooting]

エンドユーザースパンが表示されない、またはその他の分散型トレースの問題がある場合は、 [トラブルシューティング](/docs/apm/distributed-tracing/troubleshooting/troubleshooting-missing-trace-data) を参照してください。
